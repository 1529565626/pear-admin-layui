<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link href="../../component/pear/css/pear.css" rel="stylesheet" />
		<style>
			.wrap {
				display: none;
			}
		</style>
	</head>
	<body class="pear-container">
		<div class="layui-card">
			<div class="layui-card-header">抽屉</div>
			<div class="layui-card-body">
				<button class="drawer-top pear-btn pear-btn-primary">上</button>
				<button class="drawer-bottom pear-btn pear-btn-success">下</button>
				<button class="drawer-left pear-btn pear-btn-warming">左</button>
				<button class="drawer-right pear-btn pear-btn-danger">右</button>
			</div>
		</div>
		<div class="wrap">
			<div class="layer-call-back">
				<br />
				<h3>关闭后产生回调函数...</h3>
			</div>

			<div class="layer-open-mask">
				<br />
				<h3> 开启遮盖层关闭 ,点击右侧灰色区域</h3>
			</div>
			<div class="layer-close-mask">
				<br />
				<h3> 关闭遮盖层，通过 JS API 关闭抽屉</h3>
				<button id="btnClose" class="pear-btn pear-btn-primary" style="position: absolute; bottom: 10px;left: 10px;">关闭抽屉</button>
			</div>
			<div class="layer-auto-close">
				<br />
				<h3>打开 2 秒 后自动关闭...</h3>
			</div>
		</div>

	</body>
	<script src="../../component/layui/layui.js"></script>
	<script src="../../component/pear/pear.js"></script>
	<script>
		layui.use(['element', 'jquery', 'drawer', 'layer'], function() {
			var element = layui.element;
			var $ = layui.jquery;
			var drawer = layui.drawer;
			var layer = layui.layer;

			$(".drawer-right").click(function() {
				drawer.open({
					direction: "right",
					dom: ".layer-open-mask",
					distance: "30%",
					maskClose: true
				});
			})

			$(".drawer-left").click(function() {

				dom = drawer.open({
					direction: "left",
					dom: ".layer-close-mask",
					distance: "30%",
					maskClose: false
				});

			})

			$(".drawer-top").click(function() {
				dom = drawer.open({
					direction: "top",
					dom: ".layer-auto-close",
					distance: "30%",
					maskClose: false,
					time: 1000
				});
			})

			$(".drawer-bottom").click(function() {
				dom = drawer.open({
					direction: "bottom",
					dom: ".layer-call-back",
					distance: "30%",
					success: function() {
						layer.msg("触发回调函数", {
							icon: 1,
							time: 1000
						});
					}
				});
			})
	
			var dom;

			$("#btnClose").click(function() {
				dom.close();
			})

		})
	</script>
</html>
